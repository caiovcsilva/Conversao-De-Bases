<!DOCTYPE html>
<html lang="pt">
<head>
    
    <link rel="stylesheet" href="css/inicio.css">
    <title>Conversor de Bases</title>

</head>

<script defer src="https://pyscript.net/alpha/pyscript.js"></script>

<body>
    <div id="pesquisa">
        <h1>CONVERSOR DE BASES</h1>
        <form id="login-container">
            <label for="num_original">Número Original</label>
            <input type="text" list="browsers" id ="num_original" placeholder="Digite o número orginal" required autocomplete="off">
            <label for="base_original">Base Original</label>
            <input type="number" id="base_original" placeholder="Digite a base original do seu número" required autocomplete="off">
            <label for="base_final">Base Destino</label>
            <input type="number" id="base_final" placeholder="Digite a base destino do seu número" required autocomplete="off">
            <label for="base_final">Resultado</label>
            <label type="number" id="num_final">
            <input pys-onClick="any2any" type="submit" id="btn-form" value="submit">
        </form>
    </div>
    <p>output:</p>
    <p>id='output'></p>
    <py-script>
    def any2dec(num_original,base_original):
        num_original = str(num_original)
        base_original = int(base_original)
        dic = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
        dec = 0
        dec_temp = list(num_original)
        dec_temp.reverse()
        for x,i in enumerate(dec_temp):
            dec += dic.index(i) * base_original**(x)
        return str(dec)


    def dec2any(dec,base_final):
        base_final = int(base_final)
        dec = int(dec)
        dic = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
        numero_final_temp = []
        numero_final = ''
        while True:
            temp_numero_final = dec%base_final
            numero_final_temp.append(temp_numero_final)
            if int(dec/base_final) == 0:
                break
            dec = int(dec/base_final)
        numero_final_temp.reverse()
        for i in numero_final_temp:
            numero_final += dic[i]     
        return numero_final

    def any2any(num_original,base_original,base_final):
        num_dec = any2dec(num_original,base_original)
        num_final = dec2any(num_dec,base_final)
        return num_final
        result_place = Element('output')
        result_place.write(f"{Element}(num_final).value)}
    </py-script>

</body>

</html>

